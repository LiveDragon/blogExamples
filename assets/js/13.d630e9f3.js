(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{514:function(t,s,a){"use strict";a.r(s);var e=a(3),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("记录本次博客搭建过程，本文参考"),a("a",{attrs:{href:"https://juejin.im/post/5d0715f6f265da1ba56b1e01",target:"_blank",rel:"noopener noreferrer"}},[t._v("拯救懒癌文档君 - VuePress + Travis CI + Github Pages 自动线上生成文档"),a("OutboundLink")],1)])]),a("h2",{attrs:{id:"通过vuepress构建博客页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过vuepress构建博客页面"}},[t._v("#")]),t._v(" 通过VuePress构建博客页面")]),t._v(" "),a("ol",[a("li",[t._v("通过包管理工具初始化项目")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" init "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm init")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("将vuepress安装为本地依赖")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -D vuepress "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm install -D vuepress")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("创建第一篇文档")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" docs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'# Hello VuePress'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" docs/README.md\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("在"),a("code",[t._v("package.json")]),t._v("中添加一些"),a("code",[t._v("script")])])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress dev docs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress build docs"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("启动本地服务器")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" dev "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#npm run dev")]),t._v("\n")])])]),a("p",[t._v("此时效果如下：\n"),a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cd5522bda8448af883acbe13c189588~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),t._v(" "),a("p",[t._v("6.在"),a("code",[t._v("docs")]),t._v("目录下建立"),a("code",[t._v(".vuepress")]),t._v("并在改目录下新建"),a("code",[t._v("config.js")]),t._v("文件可以实现网站的各项配置。\n此时目录结构为：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(".\n├─ docs\n│  ├─ README.md\n│  └─ .vuepress\n│     └─ config.js\n└─ package.json\n")])])]),a("p",[t._v("具体配置详见"),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/config/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress官网"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("实现博客基础布局：\n"),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66b2b3b32dcb4fc0971ec9f060125878~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),t._v(" "),a("p",[t._v("从图中可以看出vuepress本身很简洁，如果我们想要实现更加美观的页面而又嫌配置麻烦，很幸运我们站在了前人的肩膀上，vuepress本身也支持配置主题，所以我们可以引用喜欢的主题，当然你也可以自己开发主题来为后人乘凉，本人使用的主题是"),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-reco"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"建立github仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建立github仓库"}},[t._v("#")]),t._v(" 建立github仓库")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("使用github创建项目[name].github.io。\n仓库如此命名的原因是，在此目录下可以直接使用"),a("code",[t._v("https://[name].github.io/")]),t._v("域名访问你的博客。")])]),t._v(" "),a("li",[a("p",[t._v("使用"),a("code",[t._v("git remote add origin [你的仓库]")]),t._v("将本地代码与远程库关联")])]),t._v(" "),a("li",[a("p",[t._v("通过"),a("code",[t._v("git checkout -b")]),t._v("切换到新分支，该分支存放文档源码，master分支用来存放打包好的 HTML 等文件\n之所以在master分支存放打包后的文件，是因为如果存放的不是打包后的文件，那么通过"),a("code",[t._v("https://[name].github.io")]),t._v("的域名访问，得到的将是是README自述文件，也可以通过Github Pages改变来源，本质上还是将打包文件放到你要访问的来源上。")])])]),t._v(" "),a("h2",{attrs:{id:"通过travis-cl实现自动化打包部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过travis-cl实现自动化打包部署"}},[t._v("#")]),t._v(" 通过travis-cl实现自动化打包部署")]),t._v(" "),a("ol",[a("li",[t._v("首先我们需要在项目的根目录下建立"),a("code",[t._v(".travis.yml")]),t._v("文件，并写如如下配置")])]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("language")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node_js\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node_js")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yarn\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" yarn\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" yarn build\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("after_success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd docs/.vuepress/dist\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git init\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('global user.name "$'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("U_NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v('"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('global user.email "$'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("U_EMAIL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v('"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git add "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("A\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git commit "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("m 'deploy'\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git push "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("quiet "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('force "https'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GH_TOKEN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("@$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GH_REF"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v('" master'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("P_BRANCH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("ul",[a("li",[t._v("language: 语言选择 这里用node")]),t._v(" "),a("li",[t._v("node_js：使用的node版本")]),t._v(" "),a("li",[t._v("cache： yarn缓存")]),t._v(" "),a("li",[t._v("install： 安装依赖使用的包管理工具，yarn和npm均可 yarn更快")]),t._v(" "),a("li",[t._v("script： 一切就绪后通过yarn install安装依赖")]),t._v(" "),a("li",[t._v("after_success： 安装完成后执行的后续操作，将打包文件自动发布到你配置的对应仓库分支，这里的"),a("code",[t._v("${}")]),t._v("是在travis-cl中配置的环境变量，后文再说")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[t._v("为travis-cl创建一个Personal access tokens，"),a("a",{attrs:{href:"https://github.com/settings/tokens",target:"_blank",rel:"noopener noreferrer"}},[t._v("地址"),a("OutboundLink")],1),t._v("，权限根据自己的需要授权，不必全选。")])]),t._v(" "),a("li",[a("p",[t._v("访问"),a("a",{attrs:{href:"https://travis-ci.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("travis-cl"),a("OutboundLink")],1),t._v("，使用github账号登录，再进入"),a("a",{attrs:{href:"https://travis-ci.com/dashboard",target:"_blank",rel:"noopener noreferrer"}},[t._v("dashboard"),a("OutboundLink")],1),t._v(",此时就可以看见你的git仓库了。")])]),t._v(" "),a("li",[a("p",[t._v("启动进入github.io这个项目，再通过setting，来配置上文提到的环境变量。")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("ul",[a("li",[t._v("GH_REF: 项目地址（github.com/[name]/[name].github.io.git）注意去掉 https://")]),t._v(" "),a("li",[t._v("GH_TOKEN: 上面提到的Personal access tokens")]),t._v(" "),a("li",[t._v("U_NAME：你的github用户名")]),t._v(" "),a("li",[t._v("U_EMAIL: 你的github邮箱")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("进入github.io仓库的setting页面修改"),a("code",[t._v("GitHub Pages")]),t._v("的值为上面"),a("code",[t._v(".travis.yml")]),t._v("中配置的分支，也可以直接使用master分支。")])]),t._v(" "),a("p",[t._v("到这里，travis-ci部署已经完成，我们下一次提交代码到github，就会触发travis-ci自动构建，将打包文件上传到指定分支，上传完成后,就可以通过"),a("code",[t._v("https://[name].github.io/")]),t._v("来访问你的博客了。")]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("其实，目前网络上搭建博客的框架有很多比如我这次使用的"),a("code",[t._v("vuepress")]),t._v("，另外还有"),a("code",[t._v("hexo")]),t._v("、"),a("code",[t._v("jekyll")]),t._v("等等，搭建博客也变的很简单，难的其实是搭建完成后，持之以恒的发布博文，记录自己的技术积累，希望自己能坚持下去。")]),t._v(" "),a("p",[t._v("这次的博客其实是运行在"),a("code",[t._v("GitHub Page")]),t._v("上的，使用的是github提供的服务器，希望未来学习node等服务端语言后，搭建自己的服务器后再将博客搬到自己的服务器上。")])])}),[],!1,null,null,null);s.default=n.exports}}]);